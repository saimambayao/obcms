# ============================================================================
# OBCMS Production Environment Configuration
# ============================================================================
# IMPORTANT: Copy this file to .env in your deployment platform (Sevalla/Coolify)
# and fill in the actual values. NEVER commit the real .env file to git.

# ============================================================================
# CRITICAL SECURITY SETTINGS (REQUIRED)
# ============================================================================

# Django Secret Key (REQUIRED - Generate new for production!)
# Generate with: python -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'
SECRET_KEY=CHANGE_ME_TO_RANDOM_SECRET_KEY

# Allowed Hosts (REQUIRED - Comma-separated list)
# Example: your-domain.com,www.your-domain.com
ALLOWED_HOSTS=your-domain.com,www.your-domain.com

# CSRF Trusted Origins (REQUIRED - Comma-separated with https://)
# IMPORTANT: Must include https:// scheme
# Example: https://your-domain.com,https://www.your-domain.com
CSRF_TRUSTED_ORIGINS=https://your-domain.com,https://www.your-domain.com

# ============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# ============================================================================

# PostgreSQL Database URL
# Format: postgres://user:password@host:port/dbname
# Sevalla provides this automatically - use their DATABASE_URL variable
DATABASE_URL=postgres://user:password@host:5432/obcms_production

# ============================================================================
# EMAIL CONFIGURATION (REQUIRED for production)
# ============================================================================

# Email Backend - Use real SMTP in production
EMAIL_BACKEND=django.core.mail.backends.smtp.EmailBackend
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@example.com
EMAIL_HOST_PASSWORD=your-app-password
DEFAULT_FROM_EMAIL=OBCMS <noreply@your-domain.com>

# ============================================================================
# OPTIONAL SETTINGS
# ============================================================================

# CORS Allowed Origins (Optional - for API access from other domains)
# Example: https://mobile-app.example.com,https://external-service.com
# CORS_ALLOWED_ORIGINS=

# SSL Redirect (Default: True - set to False only for HTTP testing)
# SECURE_SSL_REDIRECT=True

# Logging Level (Default: INFO)
# Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Django Settings Module (Default: obc_management.settings.production)
DJANGO_SETTINGS_MODULE=obc_management.settings.production

# ============================================================================
# CELERY & REDIS CONFIGURATION (REQUIRED for background tasks)
# ============================================================================

# Redis URL for Celery broker and cache
# Sevalla provides this automatically - use their REDIS_URL variable
REDIS_URL=redis://default:password@host:6379/0

# Celery Broker URL (usually same as REDIS_URL)
CELERY_BROKER_URL=redis://default:password@host:6379/0

# ============================================================================
# STORAGE CONFIGURATION (Optional - for AWS S3/DigitalOcean Spaces)
# ============================================================================

# Set to 'storages' to use S3/Spaces for media files
# DEFAULT_FILE_STORAGE=storages.backends.s3boto3.S3Boto3Storage

# AWS S3 / DigitalOcean Spaces Configuration
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_STORAGE_BUCKET_NAME=obcms-media
# AWS_S3_REGION_NAME=sgp1
# AWS_S3_ENDPOINT_URL=https://sgp1.digitaloceanspaces.com  # For DigitalOcean Spaces
# AWS_S3_CUSTOM_DOMAIN=your-cdn-domain.com  # Optional CDN

# ============================================================================
# DEPLOYMENT FLAGS
# ============================================================================

# Run migrations on startup (set to 'true' for initial deployment)
RUN_MIGRATIONS=true

# ============================================================================
# MONITORING & PERFORMANCE (Optional)
# ============================================================================

# Sentry DSN for error tracking (Optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# Performance Monitoring (Optional)
# SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================================================
# NOTES FOR SEVALLA DEPLOYMENT
# ============================================================================
#
# 1. In Sevalla dashboard, add these environment variables in the "Environment" section
# 2. Sevalla provides DATABASE_URL and REDIS_URL automatically - use those values
# 3. Generate a new SECRET_KEY - never use the development key
# 4. Set ALLOWED_HOSTS to your Sevalla domain (e.g., your-app.sevalla.app)
# 5. Set CSRF_TRUSTED_ORIGINS with https:// prefix (e.g., https://your-app.sevalla.app)
# 6. Configure email settings for production notifications
# 7. Set RUN_MIGRATIONS=true for first deployment, then set to false
#
# ============================================================================
