# =============================================================================
# BMMS MODE CONFIGURATION
# =============================================================================
# Multi-tenant configuration for Bangsamoro Ministerial Management System
# Serves all 44 BARMM Ministries, Offices, and Agencies (MOAs)
#
# To activate: cp .env.bmms .env && restart application
#
# =============================================================================

# ========== BMMS MODE SETTINGS ==========
# Operational mode: 'obcms' (single-tenant) or 'bmms' (multi-tenant)
BMMS_MODE=bmms

# Default organization code (used as fallback)
DEFAULT_ORGANIZATION_CODE=OOBC

# ========== MULTI-TENANT SETTINGS ==========
# Multi-tenant features (enabled in BMMS mode)
ENABLE_MULTI_TENANT=True

# Organization switching (users can switch between authorized organizations)
ALLOW_ORGANIZATION_SWITCHING=True

# ========== DATABASE CONFIGURATION ==========
# PostgreSQL REQUIRED for production BMMS deployment
# SQLite for development/testing only
DATABASE_URL=postgresql://user:password@localhost:5432/bmms_db

# ========== APPLICATION SETTINGS ==========
# Debug mode (MUST be False in production)
DEBUG=False

# Security settings
SECRET_KEY=generate-strong-secret-key-for-production-deployment
ALLOWED_HOSTS=bmms.oobc.gov.ph,www.bmms.oobc.gov.ph

# ========== SITE CONFIGURATION ==========
SITE_NAME=BMMS
SITE_DESCRIPTION=Bangsamoro Ministerial Management System

# ========== CORS SETTINGS ==========
CORS_ALLOWED_ORIGINS=https://bmms.oobc.gov.ph

# ========== CELERY SETTINGS ==========
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# ========== RBAC SETTINGS ==========
# OCM organization code (Office of Chief Minister)
# OCM has read-only aggregated access across all MOAs
OCM_ORGANIZATION_CODE=OCM

# Permission cache timeout (seconds)
PERMISSION_CACHE_TIMEOUT=300

# ========== SECURITY SETTINGS (Production) ==========
# HTTPS enforcement
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True

# Cookie security
SESSION_COOKIE_SECURE=True
CSRF_COOKIE_SECURE=True

# ========== NOTES ==========
# - This configuration runs BMMS in multi-tenant mode
# - Organization extracted from URL: /moa/<ORG_CODE>/
# - Users must have OrganizationMembership for access
# - OCM can view all organizations (read-only aggregation)
# - PostgreSQL REQUIRED for production (data isolation)
#
# =============================================================================
