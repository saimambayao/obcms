{# HTMX Partial Component - Bangsamoro Color Scheme #}
{# Self-contained partial for dynamic HTMX loading #}
<div id="{{ partial_id }}-{{ '{{ ' }}{{ entity }}.id{{ ' }}' }}"
     class="{{ entity }}-row px-6 py-4 flex flex-wrap md:flex-nowrap gap-4 hover:bg-gray-50 transition-colors"
     hx-target="this"
     hx-swap="{{ swap }}">
    
    {# Dynamic Fields #}
    {% for field in fields %}
    <div class="w-full md:w-auto flex items-center {{ field.class|default('text-sm text-gray-700') }}">
        {% if field.type == 'badge' %}
        <span class="badge-{{ '{{ ' }}{{ entity }}.{{ field.field }}{{ ' }}' }}">
            {{ '{{ ' }}{{ entity }}.get_{{ field.field }}_display{{ ' }}' }}
        </span>
        {% elif field.type == 'date' %}
        <span class="text-sm text-gray-600">
            {{ '{{ ' }}{{ entity }}.{{ field.field }}|date:"M d, Y"{{ ' }}' }}
        </span>
        {% elif field.type == 'link' %}
        <a href="{{ '{{ ' }}{{ entity }}.get_absolute_url{{ ' }}' }}" 
           class="text-ocean-600 hover:text-ocean-700 font-medium transition-colors">
            {{ '{{ ' }}{{ entity }}.{{ field.field }}{{ ' }}' }}
        </a>
        {% else %}
        <span>{{ '{{ ' }}{{ entity }}.{{ field.field }}{{ ' }}' }}</span>
        {% endif %}
    </div>
    {% endfor %}

    {# Actions Column #}
    <div class="w-full md:w-auto flex items-center justify-end gap-2 ml-auto">
        {% for action in actions %}
        {% if action == 'view' %}
        <button hx-get="{{ '{% url "' }}{{ entity }}:detail_modal" {{ entity }}.id{{ ' %}' }}"
                hx-target="body"
                hx-swap="beforeend"
                class="inline-flex items-center gap-1 rounded-lg border border-ocean-200 bg-ocean-50 px-3 py-1.5 text-xs font-semibold text-ocean-600 hover:bg-ocean-100 transition-colors"
                aria-label="View {{ entity }}">
            <i class="fas fa-eye" aria-hidden="true"></i>
            <span>View</span>
        </button>
        
        {% elif action == 'edit' %}
        <button hx-get="{{ '{% url "' }}{{ entity }}:edit_modal" {{ entity }}.id{{ ' %}' }}"
                hx-target="body"
                hx-swap="beforeend"
                class="inline-flex items-center gap-1 rounded-lg border border-teal-200 bg-teal-50 px-3 py-1.5 text-xs font-semibold text-teal-600 hover:bg-teal-100 transition-colors"
                aria-label="Edit {{ entity }}">
            <i class="fas fa-pen" aria-hidden="true"></i>
            <span>Edit</span>
        </button>
        
        {% elif action == 'delete' %}
        <button hx-delete="{{ '{% url "' }}{{ entity }}:delete" {{ entity }}.id{{ ' %}' }}"
                hx-confirm="Are you sure you want to delete this {{ entity }}?"
                hx-target="closest .{{ entity }}-row"
                hx-swap="outerHTML swap:1s"
                class="inline-flex items-center gap-1 rounded-lg border border-rose-200 bg-rose-50 px-3 py-1.5 text-xs font-semibold text-rose-600 hover:bg-rose-100 transition-colors"
                aria-label="Delete {{ entity }}">
            <i class="fas fa-trash" aria-hidden="true"></i>
            <span class="sr-only">Delete</span>
        </button>
        {% endif %}
        {% endfor %}
    </div>
</div>
