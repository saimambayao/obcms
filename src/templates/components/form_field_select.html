{# Specialized select with optional search icon for cascading filters #}
<div class="space-y-1 {{ extra_classes }}">
    {% if label %}
    <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700 mb-2">
        {{ label }}{% if required or field.field.required %}<span class="text-red-500">*</span>{% endif %}
    </label>
    {% endif %}
    <div class="relative">
        <select id="{{ field.id_for_label }}"
                name="{{ field.html_name }}"
                class="block w-full py-3 px-4 text-base rounded-xl border border-gray-200 shadow-sm focus:ring-emerald-500 focus:border-emerald-500 min-h-[48px] appearance-none pr-12 bg-white transition-all duration-200 {{ field.field.widget.attrs.class }}"
                {% if required or field.field.required %}required{% endif %}
                {% for attr, value in field.field.widget.attrs.items %}{% if attr not in 'class' %} {{ attr }}="{{ value }}"{% endif %}{% endfor %}>
            {% if placeholder %}<option value="">{{ placeholder }}</option>{% endif %}
            {% for option in field.field.choices %}
            <option value="{{ option.0 }}" {% if option.0|stringformat:"s" == field.value|stringformat:"s" %}selected{% endif %}>{{ option.1 }}</option>
            {% endfor %}
        </select>
        <span class="pointer-events-none absolute inset-y-0 right-0 flex items-center pr-4">
            <i class="{{ icon|default:'fas fa-chevron-down' }} text-gray-400 text-sm"></i>
        </span>
    </div>
    {% if help_text %}<p class="text-xs text-gray-500">{{ help_text }}</p>{% elif field.help_text %}<p class="text-xs text-gray-500">{{ field.help_text }}</p>{% endif %}
    {% if field.errors %}<p class="text-xs text-rose-600">{{ field.errors|join:', ' }}</p>{% endif %}
</div>
