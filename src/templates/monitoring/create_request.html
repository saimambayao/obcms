{% extends "base.html" %}

{% block title %}Submit OBC Request{% endblock %}

{% block breadcrumb %}
<li>
    <a href="{% url 'common:dashboard' %}" class="text-neutral-500 hover:text-neutral-700">Dashboard</a>
</li>
<li><span class="text-neutral-400 mx-1">/</span></li>
<li>
    <a href="{% url 'monitoring:home' %}" class="text-neutral-500 hover:text-neutral-700">Monitoring &amp; Evaluation</a>
</li>
<li><span class="text-neutral-400 mx-1">/</span></li>
<li class="text-neutral-800 font-semibold">Submit OBC Request</li>
{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-10 space-y-8">
    <header class="rounded-2xl bg-gradient-to-r from-sky-500 via-indigo-500 to-purple-500 text-white shadow-lg p-6">
        <div class="flex items-center gap-4">
            <span class="w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center text-2xl"><i class="fas fa-file-signature"></i></span>
            <div>
                <h1 class="text-2xl font-semibold">Submit OBC Request / Proposal</h1>
                <p class="text-white/80">Track requests endorsed by community partners for OOBC or MOA action.</p>
            </div>
        </div>
    </header>

    <form method="post" class="obc-form space-y-8">
        {% csrf_token %}

        <section class="bg-white border border-neutral-200 rounded-2xl shadow-sm p-6 space-y-6">
            <div class="flex items-center gap-3">
                <span class="w-9 h-9 rounded-lg bg-sky-100 text-sky-600 flex items-center justify-center"><i class="fas fa-info"></i></span>
                <div>
                    <h2 class="text-lg font-semibold text-neutral-800">Request Overview</h2>
                    <p class="text-sm text-neutral-500">Provide context and objectives for the request.</p>
                </div>
            </div>
            <div class="grid gap-5 md:grid-cols-2">
                <div class="md:col-span-2">
                    {% include "monitoring/includes/form_field.html" with field=form.title %}
                </div>
                <div class="md:col-span-2">
                    {% include "monitoring/includes/form_field.html" with field=form.summary %}
                </div>
                {% include "monitoring/includes/form_field.html" with field=form.priority %}
            </div>
        </section>

        <section class="bg-white border border-neutral-200 rounded-2xl shadow-sm p-6 space-y-6">
            <div class="flex items-center gap-3">
                <span class="w-9 h-9 rounded-lg bg-emerald-100 text-emerald-600 flex items-center justify-center"><i class="fas fa-users"></i></span>
                <div>
                    <h2 class="text-lg font-semibold text-neutral-800">Stakeholders</h2>
                    <p class="text-sm text-neutral-500">Identify the submitting community and receiving organizations.</p>
                </div>
            </div>
            <div class="grid gap-5 md:grid-cols-2">
                {% include "monitoring/includes/form_field.html" with field=form.submitted_by_community %}
                {% include "monitoring/includes/form_field.html" with field=form.submitted_to_organization %}
                {% include "monitoring/includes/form_field.html" with field=form.lead_organization %}
                {% include "monitoring/includes/form_field.html" with field=form.supporting_organizations %}
                <div class="md:col-span-2">
                    {% include "monitoring/includes/form_field.html" with field=form.communities %}
                </div>
            </div>
        </section>

        <section class="bg-white border border-neutral-200 rounded-2xl shadow-sm p-6 space-y-6">
            <div class="flex items-center gap-3">
                <span class="w-9 h-9 rounded-lg bg-purple-100 text-purple-600 flex items-center justify-center"><i class="fas fa-tasks"></i></span>
                <div>
                    <h2 class="text-lg font-semibold text-neutral-800">Support Requested</h2>
                    <p class="text-sm text-neutral-500">Detail follow-up actions and assistance needed.</p>
                </div>
            </div>
            <div class="grid gap-5">
                {% include "monitoring/includes/form_field.html" with field=form.support_required %}
            </div>
        </section>

        <div class="flex justify-end gap-3">
            <a href="{% url 'monitoring:home' %}" class="px-4 py-2 rounded-lg border border-neutral-300 text-neutral-600 hover:bg-neutral-100">Cancel</a>
            <button type="submit" class="px-4 py-2 rounded-lg btn-primary font-semibold">Submit Request</button>
        </div>
    </form>
</div>
{% endblock %}
